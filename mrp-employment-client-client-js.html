<!doctype html>
<html>

<head>
  <meta name="generator" content="JSDoc ">
  <meta charset="utf-8">
  <title>Source: mrp_employment/client/client.js</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Karla:400,400i,700,700i|Noto+Serif:400,400i,700,700i&display=swap&subset=latin-ext">
  <link rel="stylesheet" href="css/baseline.css">
</head>

<body onload="prettyPrint()">
  <nav id="jsdoc-navbar" role="navigation" class="jsdoc-navbar">
    <div id="jsdoc-navbar-container">
      <div id="jsdoc-navbar-content">
        <a href="index.html" class="jsdoc-navbar-package-name">Home</a>
      </div>
    </div>
  </nav>
  <div id="jsdoc-body-container">
    <div id="jsdoc-content">
      <div id="jsdoc-content-container">
        <div id="jsdoc-banner" role="banner">
        </div>
        <div id="jsdoc-main" role="main">
          <header class="page-header">
            <h1>Source: mrp_employment/client/client.js</h1>
          </header>
          <article>
            <pre class="prettyprint linenums"><code>eval(LoadResourceFile(&#39;mrp_core&#39;, &#39;client/helpers.js&#39;));

const configFile = LoadResourceFile(GetCurrentResourceName(), &#39;config/config.json&#39;);

const config = JSON.parse(configFile);

const localeConvar = GetConvar(&quot;mrp_locale&quot;, &quot;en&quot;);
const locale = config.locale[localeConvar];

MRP_CLIENT = null;

emit(&#39;mrp:getSharedObject&#39;, obj =&gt; MRP_CLIENT = obj);

while (MRP_CLIENT == null) {
    console.log(&#39;Waiting for shared object....&#39;);
}

let currentEmployment = undefined;

/**
 * need to have module mrp_employment loaded
 * 
 * @memberof MRP_CLIENT
 * @namespace employment
 */
MRP_CLIENT.employment = {

    /**    
     * findEmployement - description
     * 
     * @memberof MRP_CLIENT.employment
     * @param  {type} data     description     
     * @param  {type} business description     
     * @param  {type} role     description     
     * @return {type}          description     
     */
    findEmployement(data, business, role) {
        let employment;
        for (let emp of data.employment) {
            if (typeof business == &#39;string&#39;) {
                if (emp.business == business &amp;&amp; emp.role == role)
                    employment = emp;
            } else {
                if (emp.business == business &amp;&amp; emp.role == role)
                    employment = emp;
            }
        }
        return employment;
    }
};

onNet(&#39;mrp:spawn&#39;, (char, spawn) =&gt; {
    MRP_CLIENT.TriggerServerCallback(&#39;mrp:employment:server:getEmployment&#39;, char._id, (employment) =&gt; {
        if (employment) {
            currentEmployment = employment;
        }
    });
});

on(&#39;mrp:employment:getSharedObject&#39;, (cb) =&gt; {
    cb(MRP_CLIENT);
});</code></pre>
          </article>
        </div>
      </div>
      <nav id="jsdoc-toc-nav" role="navigation"></nav>
    </div>
  </div>
  <footer id="jsdoc-footer" class="jsdoc-footer">
    <div id="jsdoc-footer-container">
      <p>
        Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc</a> on July 16, 2021.
      </p>
    </div>
  </footer>
  <script src="scripts/jquery.min.js"></script>
  <script src="scripts/tree.jquery.js"></script>
  <script src="scripts/prettify.js"></script>
  <script src="scripts/jsdoc-toc.js"></script>
  <script src="scripts/linenumber.js"></script>
  <script src="scripts/scrollanchor.js"></script>
</body>

</html>